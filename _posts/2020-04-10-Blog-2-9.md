---
title: Blog 2-9
published: true
---

This week, I did further testing with the Raspberry Pi. I want to host data separate from my main machine across my network, and I want to put a password on it. I will use Samba to accomplish this. There are so many things you can configure a little Linux box to do, the connectivity really is great.

## Utilize a RaspberryPi as a Network Attached Storage with Samba

A Network Attached Storage is a great resource for any IT professional. It allows you to store data for redundancy and accessibility, with configuration settings that allow you to tweak it specifically for your needs. I will explain a process by which you can host data stored with your RaspberryPi by using Samba (Server Message Block).

## Requirements

```
1. Raspberry Pi with a data connection port, Wi-Fi card, or Wi-Fi dongle
2. Micro SD card with Raspbian or a Debian version compatible with your Pi
3. External storage connected to RaspberryPi
```

## Step 1: Gain root access and update your system

First we will need root access to perform the various installations and configurations required. Updating your system is also a good move before moving ahead.

```
sudo su
apt-get update && apt-get upgrade -y
```

## Step 2: Install Samba

Samba will be used to serve our shared content, so install it with the following command:

```
apt-get install samba samba-common-bin
```

## Step 3: Create a share folder

We will create a specific folder we want Samba to serve on the network. Create it within the 'pi' folder. Alternatively, you can create and share a folder that is conencted externally.

```
mkdir /home/pi/share
```

## Step 4: Edit Samba configuration file

The configuration file can be found at '/etc/samba/smb.conf'. We will need to add the rules and location for what we want to share on the network. Here is what we would add to the end of the file to share the folder we made in the previous step.

```
[danieldrive]
path = /home/pi/share
writeable = yes
valid users = @sambagroup
create mask = 0777
directory mask = 0777
```

Note the 'valid users' part where we limit who can access the NAS. 

Exit and save your changes to the configuration file.

## Step 5: Create a group and user for accessing to your NAS

We will password protect our storage, so we will need to make a group and user for accessing it.

```
addgroup sambagroup
useradd share -G sambagroup
smbpassword -a share
```

You will be prompted to enter a Samba-password for the user. This is the password you will use when accessing the NAS.

## Step 6: Restart Samba


```
systemctl restart smbd
```

## Step 7: Obtain your IP address and connect!

You can find the IP address of your Pi by typing 'hostname -I'

Using that information, navigate to the Windows File Explorer and connect to the NAS drive. The path to the drive will be:
```
//<pi ip address>/danieldrive
```

Specify the connection options and, When prompted for login, use the username and password you specified previously in step 5. You should now be connected to the folder being served by Samba across your network!

Thanks for reading!

Daniel